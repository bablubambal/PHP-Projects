{"ast":null,"code":"import _toConsumableArray from\"C:/Users/bablu/Downloads/React-Flask-Movie-Recommendation-App-main/React-Flask-Movie-Recommendation-App-main/movie-recommender-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _createForOfIteratorHelper from\"C:/Users/bablu/Downloads/React-Flask-Movie-Recommendation-App-main/React-Flask-Movie-Recommendation-App-main/movie-recommender-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _slicedToArray from\"C:/Users/bablu/Downloads/React-Flask-Movie-Recommendation-App-main/React-Flask-Movie-Recommendation-App-main/movie-recommender-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import SearchBar from\"./Components/SearchBar\";import NavBar from\"./Components/NavBar\";import Footer from\"./Components/Footer\";import\"./Components/styles/HomeStyles.css\";import MovieCard from\"./Components/MovieCard\";import{useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(){var apiKey=\"api_key=b97316ed479ee4226afefc88d1792909\";var _useState=useState([]),_useState2=_slicedToArray(_useState,2),list=_useState2[0],setList=_useState2[1];var _useState3=useState([{}]),_useState4=_slicedToArray(_useState3,2),homeGenreList=_useState4[0],setHomeGenreList=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),selectedGenres=_useState6[0],setSelectedGenres=_useState6[1];var _useState7=useState([{}]),_useState8=_slicedToArray(_useState7,2),currMovies=_useState8[0],setCurrMovies=_useState8[1];useEffect(function(){setCurrMovies([]);setSelectedGenres([]);setHomeGenreList([]);setList([]);//getting the list of all movies from our flask server for our searchbar\nfetch(\"/api/movies\").then(function(Response){return Response.json().then(function(data){return setList(data.arr);});});// getting the list of all genres\nfetch(\"https://api.themoviedb.org/3/genre/movie/list?\".concat(apiKey)).then(function(Response){return Response.json().then(function(data){return setHomeGenreList(data.genres);});});},[]);useEffect(function(){setCurrMovies([]);if(selectedGenres.length>0){fetch(\"https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&\".concat(apiKey,\"&release_date.lte=2019-12-12&with_genres=\").concat(encodeURI(selectedGenres.join(\",\")))).then(function(Response){return Response.json().then(function(data){return setCurrMovies(data.results);});});}},[selectedGenres]);var onTagClick=function onTagClick(genreId){var isPresent=false;var _iterator=_createForOfIteratorHelper(selectedGenres),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var id=_step.value;if(id===genreId){isPresent=true;break;}}}catch(err){_iterator.e(err);}finally{_iterator.f();}if(isPresent){setSelectedGenres(selectedGenres.filter(function(item){return item!==genreId;}));}else{setSelectedGenres(function(selectedGenres){return[].concat(_toConsumableArray(selectedGenres),[genreId]);});}};var renderMovies=function renderMovies(){return currMovies.map(function(movie){if(movie){return/*#__PURE__*/_jsx(MovieCard,{movie:movie},movie.id+movie.original_title);}else{return null;}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"HomePage\",children:[/*#__PURE__*/_jsx(NavBar,{isHome:false}),/*#__PURE__*/_jsx(\"div\",{className:\"HomeSearch\",children:/*#__PURE__*/_jsx(SearchBar,{movies:list,placeholder:\"Search for a Movie\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"genreHeader\",children:\"Get Top Movies Based On Genre \"}),/*#__PURE__*/_jsx(\"div\",{className:\"buttonGrid\",children:homeGenreList.map(function(genre){return/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){return onTagClick(genre.id);},className:selectedGenres.includes(genre.id)?\"genreTagON\":\"genreTagOFF\",children:[genre.name,selectedGenres.includes(genre.id)?/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-times\",\"aria-hidden\":\"true\"}):null]},genre.id);})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid HomeMovies\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container HomeMovieGrid\",children:currMovies.length>0?renderMovies():null})}),/*#__PURE__*/_jsx(\"div\",{className:\"HomeFooter\",children:/*#__PURE__*/_jsx(Footer,{})})]});};export default Home;","map":{"version":3,"names":["SearchBar","NavBar","Footer","MovieCard","useEffect","useState","Home","apiKey","list","setList","homeGenreList","setHomeGenreList","selectedGenres","setSelectedGenres","currMovies","setCurrMovies","fetch","then","Response","json","data","arr","genres","length","encodeURI","join","results","onTagClick","genreId","isPresent","id","filter","item","renderMovies","map","movie","original_title","genre","includes","name"],"sources":["C:/Users/bablu/Downloads/React-Flask-Movie-Recommendation-App-main/React-Flask-Movie-Recommendation-App-main/movie-recommender-app/src/Pages/Home.js"],"sourcesContent":["import SearchBar from \"./Components/SearchBar\";\r\nimport NavBar from \"./Components/NavBar\";\r\nimport Footer from \"./Components/Footer\";\r\nimport \"./Components/styles/HomeStyles.css\";\r\nimport MovieCard from \"./Components/MovieCard\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nconst Home = () => {\r\n    const apiKey = \"api_key=b97316ed479ee4226afefc88d1792909\";\r\n    const [list, setList] = useState([]);\r\n    const [homeGenreList, setHomeGenreList] = useState([{}]);\r\n    const [selectedGenres, setSelectedGenres] = useState([]);\r\n    const [currMovies, setCurrMovies] = useState([{}]);\r\n\r\n    useEffect(() => {\r\n        setCurrMovies([]);\r\n        setSelectedGenres([]);\r\n        setHomeGenreList([]);\r\n        setList([]);\r\n        //getting the list of all movies from our flask server for our searchbar\r\n        fetch(\"/api/movies\").then((Response) =>\r\n            Response.json().then((data) => setList(data.arr))\r\n        );\r\n        // getting the list of all genres\r\n        fetch(`https://api.themoviedb.org/3/genre/movie/list?${apiKey}`).then(\r\n            (Response) =>\r\n                Response.json().then((data) => setHomeGenreList(data.genres))\r\n        );\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        setCurrMovies([]);\r\n        if (selectedGenres.length > 0) {\r\n            fetch(\r\n                `https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&${apiKey}&release_date.lte=2019-12-12&with_genres=${encodeURI(\r\n                    selectedGenres.join(\",\")\r\n                )}`\r\n            ).then((Response) =>\r\n                Response.json().then((data) => setCurrMovies(data.results))\r\n            );\r\n        }\r\n    }, [selectedGenres]);\r\n\r\n    const onTagClick = (genreId) => {\r\n        let isPresent = false;\r\n        for (let id of selectedGenres) {\r\n            if (id === genreId) {\r\n                isPresent = true;\r\n                break;\r\n            }\r\n        }\r\n        if (isPresent) {\r\n            setSelectedGenres(\r\n                selectedGenres.filter((item) => item !== genreId)\r\n            );\r\n        } else {\r\n            setSelectedGenres((selectedGenres) => [...selectedGenres, genreId]);\r\n        }\r\n    };\r\n    const renderMovies = () =>\r\n        currMovies.map((movie) => {\r\n            if (movie) {\r\n                return (\r\n                    <MovieCard\r\n                        key={movie.id + movie.original_title}\r\n                        movie={movie}\r\n                    />\r\n                );\r\n            } else {\r\n                return null;\r\n            }\r\n        });\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"HomePage\">\r\n                <NavBar isHome={false} />\r\n                <div className=\"HomeSearch\">\r\n                    {/*Rendering the searchbar */}\r\n                    <SearchBar movies={list} placeholder=\"Search for a Movie\" />\r\n                </div>\r\n\r\n                <h2 className=\"genreHeader\">Get Top Movies Based On Genre </h2>\r\n                <div className=\"buttonGrid\">\r\n                    {homeGenreList.map((genre) => (\r\n                        <div\r\n                            key={genre.id}\r\n                            onClick={() => onTagClick(genre.id)}\r\n                            className={\r\n                                selectedGenres.includes(genre.id)\r\n                                    ? \"genreTagON\"\r\n                                    : \"genreTagOFF\"\r\n                            }\r\n                        >\r\n                            {genre.name}\r\n                            {selectedGenres.includes(genre.id) ? (\r\n                                <i\r\n                                    className=\"fa fa-times\"\r\n                                    aria-hidden=\"true\"\r\n                                ></i>\r\n                            ) : null}\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n            {/*Rendering selected genre movies */}\r\n            <div className=\"container-fluid HomeMovies\">\r\n                <div className=\"container HomeMovieGrid\">\r\n                    {currMovies.length > 0 ? renderMovies() : null}\r\n                </div>\r\n            </div>\r\n            <div className=\"HomeFooter\">\r\n                <Footer />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Home;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}